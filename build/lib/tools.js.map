{
  "version": 3,
  "sources": ["../../src/lib/tools.ts"],
  "sourcesContent": ["import axios from \"axios\";\r\n\r\n/**\r\n * Tests whether the given variable is a real object and not an Array\r\n * @param it The variable to test\r\n */\r\nexport function isObject(it: any): it is object {\r\n\t// This is necessary because:\r\n\t// typeof null === 'object'\r\n\t// typeof [] === 'object'\r\n\t// [] instanceof Object === true\r\n\treturn Object.prototype.toString.call(it) === \"[object Object]\";\r\n}\r\n\r\n/**\r\n * Tests whether the given variable is really an Array\r\n * @param it The variable to test\r\n */\r\nexport function isArray(it: any): it is any[] {\r\n\tif (Array.isArray != null) return Array.isArray(it);\r\n\treturn Object.prototype.toString.call(it) === \"[object Array]\";\r\n}\r\n\r\n/**\r\n * Translates text using the Google Translate API\r\n * @param text The text to translate\r\n * @param targetLang The target languate\r\n */\r\nexport async function translateText(text: string, targetLang: string): Promise<string> {\r\n\tif (targetLang === \"en\") return text;\r\n\ttry {\r\n\t\tconst url = `http://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=${targetLang}&dt=t&q=${encodeURIComponent(\r\n\t\t\ttext,\r\n\t\t)}&ie=UTF-8&oe=UTF-8`;\r\n\t\tconst response = await axios({ url, timeout: 5000 });\r\n\t\tif (isArray(response.data)) {\r\n\t\t\t// we got a valid response\r\n\t\t\treturn response.data[0][0][0];\r\n\t\t}\r\n\t\tthrow new Error(\"Invalid response for translate request\");\r\n\t} catch (e) {\r\n\t\tthrow new Error(`Could not translate to \"${targetLang}\": ${e}`);\r\n\t}\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAkB;AAMX,SAAS,SAAS,IAAuB;AAK/C,SAAO,OAAO,UAAU,SAAS,KAAK,EAAE,MAAM;AAC/C;AAMO,SAAS,QAAQ,IAAsB;AAC7C,MAAI,MAAM,WAAW;AAAM,WAAO,MAAM,QAAQ,EAAE;AAClD,SAAO,OAAO,UAAU,SAAS,KAAK,EAAE,MAAM;AAC/C;AAOA,eAAsB,cAAc,MAAc,YAAqC;AACtF,MAAI,eAAe;AAAM,WAAO;AAChC,MAAI;AACH,UAAM,MAAM,0EAA0E,qBAAqB;AAAA,MAC1G;AAAA,IACD;AACA,UAAM,WAAW,UAAM,aAAAA,SAAM,EAAE,KAAK,SAAS,IAAK,CAAC;AACnD,QAAI,QAAQ,SAAS,IAAI,GAAG;AAE3B,aAAO,SAAS,KAAK,GAAG,GAAG;AAAA,IAC5B;AACA,UAAM,IAAI,MAAM,wCAAwC;AAAA,EACzD,SAAS,GAAP;AACD,UAAM,IAAI,MAAM,2BAA2B,gBAAgB,GAAG;AAAA,EAC/D;AACD;",
  "names": ["axios"]
}
